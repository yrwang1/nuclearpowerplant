<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data transformation | Nuclear Power Station Leaks</title>
  <meta name="description" content="Chapter 3 Data transformation | Nuclear Power Station Leaks" />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data transformation | Nuclear Power Station Leaks" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data transformation | Nuclear Power Station Leaks" />
  
  
  

<meta name="author" content="Yarong Wang &amp; Qian Zhang" />


<meta name="date" content="2022-05-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">nuclearpow</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction<span></span></a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#the-chernobyl-accident-in-1986"><i class="fa fa-check"></i><b>2.1</b> The Chernobyl Accident in 1986<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#the-fukushima-daiichi-nuclear-power-station-accident-in-2011"><i class="fa fa-check"></i><b>2.2</b> The Fukushima-Daiichi Nuclear Power Station Accident in 2011<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation<span></span></a></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#the-chernobyl-accident-in-1986-1"><i class="fa fa-check"></i><b>4.1</b> The Chernobyl Accident in 1986<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#the-chernobyl-accident-in-1986-2"><i class="fa fa-check"></i><b>5.1</b> The Chernobyl Accident in 1986<span></span></a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#radionuclide-releases-to-dispersion-and-deposition-in-air"><i class="fa fa-check"></i><b>5.1.1</b> Radionuclide Releases to, Dispersion and Deposition in Air<span></span></a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#deposition"><i class="fa fa-check"></i><b>5.1.2</b> Deposition<span></span></a></li>
<li class="chapter" data-level="5.1.3" data-path="results.html"><a href="results.html#radionuclide-releases-to-dispersion-and-deposition-in"><i class="fa fa-check"></i><b>5.1.3</b> Radionuclide Releases to, Dispersion and Deposition in<span></span></a></li>
<li class="chapter" data-level="5.1.4" data-path="results.html"><a href="results.html#assessment-of-doses-to-the-public"><i class="fa fa-check"></i><b>5.1.4</b> Assessment of Doses to the Public<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#the-fukushima-daiichi-nuclear-power-station-accident-in-2011-1"><i class="fa fa-check"></i><b>5.2</b> The Fukushima-Daiichi Nuclear Power Station Accident in 2011<span></span></a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="results.html"><a href="results.html#radionuclide-releases-to-dispersion-and-deposition-in-food"><i class="fa fa-check"></i><b>5.2.1</b> Radionuclide Releases to, Dispersion and Deposition in Food<span></span></a></li>
<li class="chapter" data-level="5.2.2" data-path="results.html"><a href="results.html#assessment-of-doses-to-the-public-1"><i class="fa fa-check"></i><b>5.2.2</b> Assessment of Doses to the Public<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component<span></span></a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion<span></span></a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Nuclear Power Station Leaks</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Data transformation<a href="data-transformation.html#data-transformation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<ul>
<li>The Chernobyl Accident in 1986</li>
</ul>
<p>We used the online PDF to Excel converter to transform the tables published by UNSCEAR to <code>.xlxs</code> files. By using <code>readxl::read_excel</code> and setting <code>skip</code> to some value, we were able to drop messy headlines and get nice and neat data frames.</p>
<p>The reports claim that external irradiation from radioactive materials dumped on the ground and consumption of contaminated food are the two key paths to consider in the dose assessment (the term <code>dose assessment</code> means estimating absorbed doses received by individuals as a result of exposure to ionizing radiation). For radionuclides, we only consider Iodine-131, Caesium-134, and Caesium-137 since they are the most significant contributions to total exposure and have been extensively considered by many countries. For contaminated food, only the most fundamental foods have been considered: milk, grains, leafy greens, other vegetables and fruits, and meat. Most peopleâ€™s food intake can be classified into one of these five groups. Other foods, such as mushrooms and lake fish, have been found to absorb radionuclides and may be essential to some consumers, but they have little impact on collective dosage estimates. Therefore, we only focus on these variables in this project.</p>
<p>During the process of data cleaning, the most frequently used package is <code>tidyverse</code>, which helps manipulate the data frames. The functions <code>select</code>, <code>pivot_longer</code>, and <code>fill</code> were applied to almost every data frame in order to select the variables we want and transform the data into a form for <code>ggplot</code>.</p>
<ul>
<li>The Fukushima-Daiichi Nuclear Power Station Accident in 2011</li>
</ul>
<p>For data files related to the accident at the Fukushima Daiichi Nuclear Power Station, the original data were downloaded as <code>.xls</code> files from the official website in the data section. The Excels turned out to be messy after reading in R using <code>readxl::read_excel</code>, so we did some work to process and clean them. For the fish-related files, 10 files covering from 2012 to 2021 were combined with <code>rbind()</code> and processed with multiple functions, and the number of samples below/exceeding the standard limit were counted using <code>summarize()</code> by year, type of fish species and prefecture. The agricultural products and milk-related files were pretty tidy so that pipes <code>%&gt;%</code> were used to simply extract and calculate the features. Data cleaning for the absorbed dose to the thyroid-related files were similar to the fish-related files. Messy headlines were first removed and only useful data were kept. Then, 9 Tables were combined and processed differently with multiple functions based on the age group and area.</p>
<p>For details of coding, please see <a href="https://github.com/yrwang1/nuclearpowerplant/blob/main/03-cleaning.Rmd">here.</a></p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/yrwang1/nuclearpowerplant/edit/main/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/yrwang1/nuclearpowerplant/blob/main/03-cleaning.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
